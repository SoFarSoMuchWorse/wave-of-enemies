namespace SpriteKind {
    export const Special_Projectile = SpriteKind.create()
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (SpecialCooldown == 0) {
        music.play(music.createSoundEffect(WaveShape.Noise, 1, 5000, 255, 0, 500, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
        mySpecial = sprites.create(img`
            2 2 2 2 3 3 1 1 
            2 2 2 2 2 3 3 1 
            2 2 2 2 2 2 3 3 
            2 2 2 2 2 2 2 3 
            2 2 2 2 2 2 2 2 
            a 2 2 2 2 2 2 2 
            a a 2 2 2 2 2 2 
            a a a 2 2 2 2 2 
            `, SpriteKind.Special_Projectile)
        mySpecial.setPosition(mySprite.x, mySprite.y)
        mySpecial.setVelocity(200, 0)
        SpecialCooldown = 20
    } else {
        mySprite.sayText("On cooldown!")
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    music.play(music.createSoundEffect(WaveShape.Square, 250, 0, 255, 0, 100, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.InBackground)
    mySprite.sayText("")
    myProjectile = sprites.create(img`
        4 5 5 . . . . . 
        4 5 5 5 5 . . . 
        4 5 5 5 1 1 5 . 
        4 5 5 5 5 5 1 5 
        4 5 5 5 5 5 5 4 
        4 5 5 5 5 4 4 . 
        4 5 5 4 4 . . . 
        4 4 4 . . . . . 
        `, SpriteKind.Projectile)
    myProjectile.x = mySprite.x
    myProjectile.y = mySprite.y
    myProjectile.vx = 200
})
sprites.onOverlap(SpriteKind.Special_Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Square, 5000, 1, 255, 0, 300, SoundExpressionEffect.Vibrato, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
    sprites.destroy(sprite)
    info.changeScoreBy(10)
    sprites.destroyAllSpritesOfKind(SpriteKind.Enemy)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    music.play(music.createSoundEffect(WaveShape.Sawtooth, 5000, 0, 255, 0, 100, SoundExpressionEffect.Warble, InterpolationCurve.Curve), music.PlaybackMode.InBackground)
    sprites.destroy(sprite)
    sprites.destroy(otherSprite)
    info.changeScoreBy(1)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    scene.cameraShake(4, 100)
    info.changeLifeBy(-1)
    sprites.destroy(otherSprite)
})
let myEnemy: Sprite = null
let HugeWave = 0
let myProjectile: Sprite = null
let mySpecial: Sprite = null
let SpecialCooldown = 0
let mySprite: Sprite = null
music.stopAllSounds()
game.showLongText("Made by Random Gamez Jacob aka So Far So Much Worse", DialogLayout.Full)
music.play(music.createSong(hex`00b4000408020109010e02026400000403780000040a000301000000640001c80000040100000000640001640000040100000000fa0004af00000401c80000040a00019600000414000501006400140005010000002c0104dc00000401fa0000040a0001c8000004140005d0076400140005d0070000c800029001f40105c201f4010a0005900114001400039001000005c201f4010500058403050032000584030000fa00049001000005c201f4010500058403c80032000584030500640005840300009001049001000005c201f4010500058403c80064000584030500c8000584030000f40105ac0d000404a00f00000a0004ac0d2003010004a00f0000280004ac0d9001010004a00f0000280002d00700040408070f0064000408070000c80003c800c8000e7d00c80019000e64000f0032000e78000000fa00032c01c8000ee100c80019000ec8000f0032000edc000000fa0003f401c8000ea901c80019000e90010f0032000ea4010000fa0001c8000004014b000000c800012c01000401c8000000c8000190010004012c010000c80002c800000404c8000f0064000496000000c80002c2010004045e010f006400042c010000640002c409000404c4096400960004f6090000f40102b80b000404b80b64002c0104f40b0000f401022003000004200300040a000420030000ea01029001000004900100040a000490010000900102d007000410d0076400960010d0070000c800800000000100060e11000102060400050001060800090004121303060c000d00010610001100010614001500060e11000102061800190004121303061c001d00010620002100060e11000102062400250001062800290004121303062c002d00010630003100010634003500060e11000102073800390004121303063c003d000106`), music.PlaybackMode.LoopingInBackground)
music.play(music.createSong(hex`00b4000408040105001c000f0a006400f4010a000004000000000000000000000000000000000223000000200003161d252000400004141b242540006000041219222560008000041118a125`), music.PlaybackMode.LoopingInBackground)
music.play(music.createSong(hex`00b4000408080108001c000e050046006603320000040a002d0000006400140001320002010002fc0000000800012208000c0001250c00100001291400180001271c002000012a20002400012928002c0001272c00300001253400380001243c004000012240004400012048004c00011e50005400011d5400580001195c006000011b64006800011d68006c0001196c007000011b74007800012078007c0001247c008000012780008400012588008c00012490009400012794009800012998009c0001249c00a0000125a800ac000125ac00b0000129b400b8000127bc00c0000129c000c4000127c400c8000125c800cc000124d000d4000124d400d8000125dc00e0000124e400e8000122e800ec0001a1f000f40001a1f800fc00011dfc0000010122`), music.PlaybackMode.LoopingInBackground)
music.play(music.createSong(hex`00b4000408040107001c00020a006400f401640000040000000000000000000000000000000003180000002000010a200040000108400060000106600080000105`), music.PlaybackMode.LoopingInBackground)
console.log("haha you looked")
scene.setBackgroundImage(img`
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777677777777777777777777777777666777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776777777777777777777777777777677777776777777777777777777
    7777777777777777777777777776677777777777777777777777777777777777777777777777777777777777777777777777777766777777777677777777777777776777777777667777777777777667
    7777777777777777777777777777766777777777777777777776677777777776667777777777777767777777777777777777777667777777777766777777777777667777777777776777777777776677
    7777667777777777777677777777777666777777777777776667777777777777766667777777776677777777777776777777776677777777777776777777777766777777777777777667777777776777
    7777776677777777776677777777777777677777777777767777777777777777777776777777666777777777777777667777776777777777777777667777777677777777777777777776777777667777
    7777777766777777766777777777777777766777777776677777777777777777777776677766677777777777777777776667667777777777777777766777776777777777777777777777667776777777
    7777777776677777767777777777777777777666777767777777777777777777777777766667777777777777777777777776677777777777777777776677667777777777777777777777776666777777
    7777777777766666677777777777777777777777667667777777777777777777777777777777777777777777777777777777777777777777777777777666677777777777777777777777777667777777
    7777777777776677777777777777777777777777776777777777777777777777777777777777777777777777777777777777777777777777777777777777777767777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776677777777777777667777777777777
    7777777767777777777777777777777777777777766777777777777777777777777777777777777777777777777777777777777777777777777777777777777777667777777777776677777777777777
    7777777766777776777777777777777777777777667777777777777777777777777777777777777777677777777777777777777777777777777777777777777777776777777777767777777777777777
    7777777776777667777777777777766677777776677777777777777777777777776777777777777776677777777777777777777777777777777777777777777777777677777776677777777777777777
    7777777777676677777777777777777677777767777777777777777777777777777677777777777667777777777777777777777777777777766777777777777777777766777776777777777777777777
    7777777777666777777777777777777766777667777777777777777777767777777667777777766777777777777777777777777777777776677777777777777777777776777667777777777777777777
    7777777777667777777777777777777777667677777777777777777777767777777776777777667777777777777777777776777777777766777777777777777777777777666677777777777777777777
    7777777777777777777777777777777777776777777777777776777777677777777777667776777777777777777777777777667777777667777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777776777776777777777777776667777777777777777777777777776777776677777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777776777767777777777777777777777777777777777777777777777666667777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777776777767777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777677767777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777767677777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777776677777777777777777777777777777777777767777777777777777777777777677777777777777777777777777777777777777777
    7777777777777777776777777777777777777777777777777777777777777777777777777777777777777777777667777777777667777777777776777777777777777777777777777777777777777777
    7777777777777777767777777777777777777777777777777777777777777777777777777667777777777777776777777777777767777777777667777777777777777777777777777777777776777777
    7777677777777777677777777767777777777777667777777777777777777777777777777766677777777777767777777777777766777777776777777777777777777777777776777777777766777777
    7777767777777776777777777776777777777777677777777777777777777777777777777777766777777777677777777777777777677777766777777777777777777777777776777777777667777777
    7777767777777776777777777776777777777776777777777777777777777777767777777777776677777776777777777777777777677777667777777767777777777777777777677777776777777777
    7777776777777767777777777777677777777767777777777777677777777777677777777777777767777766777777777777777777767776677777777776777777777777777777667777776777777777
    7777776677777677777777777777767777777677777777777777667777777776777777777777777776777677777777777777777777776767777777777776777777777776777777767777767777777777
    7777777677776777777777777777776777776777777777777777767777777767777777777777777777676777777777777777777777776677777777777776777777777767777777767777667777777777
    7777777767776777777777777777777677767777777777777777776777777677777777777777777777766777777777777777777777777777777777777777677777777667777777776676777777777777
    7777777766667777777777777777777766767777777777777777777667777677777777777777777777777777777777777777777777777777777777777777677777776777777777777667777777777777
    7777777777777777777777777777777777667777777777777777777766776777777777777777777777777777777777777777777777777777777777777777767777667777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777776667777777777777777777777777777777777777777777777777777777777777777766776777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777667777777777777777777777777777777777777777777777777777777777777777776666777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776667777777777777777777777777777777777777767777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777767777777766777777777777777777777777777777777777767777777777777776777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777667777777776777777777777777777777777777777777777776777777777777766777
    7777777777777777777777777777777777777777777777777777777777777777777777777777766677777777777677777777776777777777777777777777777777777766777777677777777777767777
    7777777777777777777677777777777777777777777777777777777777777777777777777777777677777777776777777777777677777777777777777777667777777767777777677777777777677777
    7777776777777777777677777777777777777777777777777777777777777777777777777777777767777777767777777777777767777777677777777777767777777677777777767777777777677777
    7777776777777777776677777777777777777777777777777777777777777777777777777777777776777777677777777777777767777776677777777777766777776777777777776777777776777777
    7777777677777777767777777777777777777777777777777777777777777777777777776777777776777776677777777777777767777776777777777777776777776777777777777667777767777777
    7777777767777777677777777777777777777777777777777777777777777777777777766777777777677767777777777777777776777767777777777777777677776777777777777767777767777777
    7777777767777777677777777777777777777777777777777777777777667777777777677777777777766667777777777777777777677677777777777777777767767777777777777776777677777777
    7777777776777776777777777777777777777777777777766777777777766777777776777777777777776677777777777777777777676777777777777777777766767777777777777777667677777777
    7777777777677767777777777777777767777777777777667777777777776677777767777777777777777777777777777777777777766777777777777777777776677777777777777777776677777777
    7777777777677667777777777777777776777777777776777777777777777677777667777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777767677777777777777777777677777777767777777777777777767776777777777777777777777777777777777777777777777777777777767777777777777777777777777777777777777
    7777777777767677777777777777777777767777777767777777777777777776667777777777777777777777777777777777777777777777777777777667777777777777777777777777777777777777
    7777777777776677777777777777777777776777777677777777777777777777777777777777777777777777777777777777777777777777777777777677777777777777777777777777777777777777
    7777777777777777777777777777777777776777776777777777777777777777777777777777777777777777777777777777777777777777777777776677777777777777777777777777777777777777
    7777777777777777777777777777777777777677767777777777777777777777777777777777777777777777777777777777777777777777767777776777777777777777777777777777777677777777
    7777777777777777777777777777777777777667677777777777777777777777777777777777777777777777777777777777777777777777776777776777777777777777777777777777777677777777
    7777777777777777777777777777777777777766677777777777777777777777777777777777777777777777777777777777777777777777777677767777777777777777777776777777776777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777767767777777777777777777777677777776777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777776777777777777777777777767677777777777777777777777677777776777777777
    7777777777777777777777777777777777677777777777777777777777776777777777777777777767777777777766777767777777777777777776677777777777777777777777767777776777777777
    7777777777777777777776677777777777677777777777777777777777776677777777777777777767777777777677777767777777777777777776677777777677777777776777776777767777777777
    7777777777777777777777766777777776777777777777777777777777777677777777777767777766777777777677777776777777777777677777777777777677777777776777777677677777777777
    7777777777777777777777777677777776777777777777777777777777777767777777777767777776777777776777777776677777777777677777777777777767777777767777777677677777777777
    7777777777777777777777777767777776777777777677777777777777777776777777777767777776777777767777777777677777777776777777777777777766777777767777777767677777777777
    7777777777777777777777777766777767777777777667777777777766777777677777777677777777677777677777777777677777777767777777777777777776777777767777777776677777777777
    7777776777777777777677777777677767777777777767777777777767777777767777777677777777767777677777777777667777777767777777777777777777677777677777777777777777777777
    7777777677777777776777777777766767777777777776777777777767777777776777777677777777776776777777777777767777777677777777777777777777767776777777777777777777777777
    7777777677777777767777777777777667777777777776777777777677777777777677777677777777776776777777777777767777776777777777777777777777767776777777777777777777777777
    7777777767777777767777777777777677777777777777677777776777777777777766777677777777776676777777777777776777767777777777777777777777776776777777777777777777777777
    7777777767777777767777777777777777777777777777677777776777777777777777677677777777777666777777777777777677767777777777777777777777776776777777777777777777777777
    7777777776677777677777777777777777777777777777767777767777777777777777767677777777777667777777777777777667677777777777777777777677776767777777766777777776677777
    7777777777677777677777777777777777777777777777776777677777777777777777776777777777777777777777777777777766777777777767777777777677777667777777776677777776777777
    7777777777677776777777777777777777777777777777776777677777777777777777777777777777777777777777777777777777777777777766777777777677777777777777777767777767777777
    7777777777766776777777777777767777777777777777777667677777777777777777777777777777777777777777777777777777777777777776777777777677777777777777777767777767777777
    7777777777776667777777777777766777777777777777777766777777777777777777777777777777777777777777777777777777777777777777677777776777777777777776777776777767777777
    7777777777777667777777777777677677777777777777777777777777766777667777777777777777777777777777777777777777777777777777677777776777677777777776777776777767777777
    7777777777777777777777777777677677777777777777777777777777776776677777777777777777677777777777776776777777777777776777767777767777667777777776777777677767777777
    7777777777777777777777777777677767777777667777777777777776776776777777777777777777767777777777766776777777777777776777776777767777766777777776777777677767777777
    7777777777777777777777777776777776777777677777777777777776776766777777777777777777766777777777667777677777777777767777776677767777776777777767777777677677777777
    7777777777777777777777777776777776777776777777677777777776776767777767777777776677776677777776677777767777777777677777777667667777776677777677777777767677777777
    7777777777777766776777777767777776777767777777677777777776776767777767777777776777777767777776777777767777777776777777777767677777777677777677777777766677777777
    7777777677777667776777777767777777677677777777767777777767776767777767777777766777777776777767777777776777777767777777777776677777777767776777777777776777777777
    7777777677777677777677777767777777677677777777767777777767776677777767777777767777777777677677777777776777776677777777777776677777777766767777777777777777777777
    7777777767776777777667777667777777667677777777766777777677777677777767777777677777777777767677777777776777767777777777777777777777777776767777777777777777777777
    7777777766776777777767777677777777767677777777776777777677777677777767777776777777777777766677777777777666677777777777777777777777777776677777777777777777777777
    7777777776776777777766776777777777767677777777776777776777777777777767777767777777777777777777777777777766777777777777777777777777777777777777777777777777777777
    7777777776767777777776667777777777776777777777777677766777777777777767777767777777777777777777777777777777777777777777777777777777777777777777777777777777677777
    7777777776767777777777777777777777777777777777777677677777777777777776677677777777777777777777777777777777777777777777777777777777777777777777777777777776677777
    7777777777667777777777777777777777777777777777777666677777777777777777676777777777777777777777777777777777777777777777777777777777777777777777777777777776777777
    7777777777667777777777777777777777777777777777777777777777777777777777767777777777777777777767777777777777777777777777777777777777777777777777767777777776777777
    7777777777767777777777777777777777777777777777777777777777777777777777777777777777777777777767777777777777777677777777777777777777777777777777767777777776777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777677777777777777777677777776777777777777777777777777767777777767777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777677777677777777777777777767777766777777777777777777777777676777777677777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777677776777777777777777777767777767777777777777777777777777676777777677777777
    7777777777777777677777777777777777677777777777777777777777777777777777777777777777777667767777777777777776677767777677777777777777777777777777676677777677777777
    7777777777777777677777767777777776677777777777777777777777777777777777777777777777777767767777777777777767777767776777777777777777767777777776777677776777777777
    7777767777777776777777767777777776777767777777777777777667777777777767777777777777777767677777677777777677777776776777777777777777767777777767777677767777777777
    7777767777777776777777767777777767777767777777777767777767777777777667777777777776777776677777677777776777777776767777777777777777767777777677777767677777777777
    7777767777777767777777767777777767777767777777777767777767777777777677777777777776777776777777767777776777777776667777777777777777767777777677777766777777777777
    7777776777777767777777767777777677777776777777777767777776777777776777777677777767777777777777767777767777777777777777777777777777776777777677777777777777777777
    7777776777777667777777767777777677777776777777777667777776777777766777777677777767777777777777767777677777777777777777777777777777776777776777777777777777777777
    7777777677777677777777767777776777777776777777777677777776777777767777777767777677777777777777767777677777777777777777777777766777776677767777777777777777777777
    7777777677776777777777767777767777777776777777776777777776777777677777777767777677777777777777776776677777777777777777777777767777777677767777777777777777777777
    7777777677776777777777767777767777777776777777776777777777677777677777777767776777777777777777776767777777777777777776777777667777777677677777777777777777677777
    7777777767767777777777767777677777777777677777767777777777767777677777777766776777777777777777777667777777777777777776777776777777777766677777777777777776777777
    7777777767677777777777776776777777777777677777677777777777776776777777777776767777777777777777777677777777777777777777677776777777777776677777777776777766777777
    7777777776677777777777777676777777777777767777677777777777776767777777777776667777777777777777777777777777777777777777667767777777777777777777777776677767777777
    7777777777777777777777777667777777777777776776777777777777777667777777777777667777777777777777777777777777777777777777766677777777777777777777777777677677777777
    7777777777777777777777777777777777777777777667777777777777777667777777777777777777777777777777777777777777777777777777777777777777777777777777777777667677777777
    7777777777777777777777777777777777777777777667777777777777777667777777777777777777777777777777777777777777777777777777777777777777777777777777777777766777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    7777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
    `)
info.setLife(3)
mySprite = sprites.create(img`
    ........................
    ..ffffffff..............
    fff555555fff............
    f4555555555f............
    f4555555f55f............
    f45555555f5f............
    f45555555f5f............
    f4555555555fffffffffff..
    ff44444444fffcccccccff..
    .ffffffffff.fcffffffff..
    ..ff6999fffffcf.........
    .f6f6999f95ffff.........
    .f5f6666fff.............
    .ffffffff...............
    ...f8ff8f...............
    ...ffffff...............
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 50, 50)
info.setScore(0)
game.onUpdateInterval(1000, function () {
    if (SpecialCooldown > 0) {
        SpecialCooldown += -1
    }
})
forever(function () {
    HugeWave = 0
    pause(30000)
    game.showLongText("A huge wave is approaching!", DialogLayout.Bottom)
    HugeWave = 1
    pause(30000)
})
forever(function () {
    pause(randint(1, 2500 - HugeWave * 2250))
    myEnemy = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . f f f f f f . . 
        . . . . . . . f 6 6 6 6 6 7 f . 
        . . . . . . . f f 6 6 f 6 7 f . 
        . . . . . . . f 6 6 6 6 6 7 f . 
        . . f f f f f f 2 2 2 2 6 7 f . 
        . . f 6 6 6 6 7 f f f f f f . . 
        . . f f f f f f f c c c a f . . 
        . . . f 6 6 6 7 f c c c a f . . 
        . . . f f f f f f f c a f . . . 
        . . . . . . . . . f c a f . . . 
        . . . . . . . . f c c c a f . . 
        . . . . . . . . f f f f f f . . 
        . . . . . . . . . f 6 f 6 f . . 
        . . . . . . . . . f 7 f 7 f . . 
        . . . . . . . . . f f f f f . . 
        `, SpriteKind.Enemy)
    myEnemy.setPosition(160, (Math.max(mySprite.y + randint(-100, 100), 0) + Math.min(mySprite.y + randint(-100, 100), 120)) / 2)
    myEnemy.vx = -50
})
